"use strict";

module.exports = () => async (ctx, next) => {
  ctx.set('Access-Control-Allow-Origin', '*');
  ctx.set('Access-Control-Allow-Headers', 'Content-Type, Content-Length, Authorization, Accept, X-Requested-With, yourHeaderFeild');
  ctx.set('Access-Control-Allow-Methods', '*');

  if (!~ctx.path.indexOf(sword.config('publicPath')) && !~ctx.path.indexOf('/api/')) {
    ctx.path = '/';
  }

  await next();
};
//# sourceMappingURL=rewrite.js.map