(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7ce72b78"],{"0837":function(e,t,n){},"60dc":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAAXNSR0IArs4c6QAAATRJREFUKBV1UrFKxEAQnU1i4oESBDs7K0VFP8BCsLCwEK/XxtY/sLHVSgXBv7DQD0iyKAiCYGFz2NraXXHCPt+syXInewubefPeG3Zms8ZUeBMja6ILMvIx/snoc5TevZzUOOc+i3v/2NTiKKlwqVnSGn94StHiaUFP8p34ImPkEyIb09zKA7JiRAaKfdFiKQ/E2zMWm0r+XwuvKOGkXxZyP6GlDQ5Mja+swd640HvGEi/LpjX643zALNxnoeN+VDJpcEE8SiscBpPyXTJrseycXLHv6yKXU+VzyB3zW97zTf6E9c7rIwCj/4stnEwIbUL+mPpgB8iCzjl22cZLICKAeq1zq+Tbc5AttmEj3kAZCKcVf7vdTPNUv4MjBhKvz6lkeGzD17DqfUaGMX/L9RgLej9+Aeufba7+UZUPAAAAAElFTkSuQmCC"},"76c0":function(e,t,n){},"846d":function(e,t,n){},"9cc0":function(e,t,n){"use strict";n.r(t);var a=n("448a"),i=n.n(a),c=n("9523"),r=n.n(c),o=n("970b"),l=n.n(o),s=n("5bc3"),m=n.n(s),d=n("ed6d"),A=n.n(d),u=n("6b58"),p=n.n(u),y=n("36c6"),v=n.n(y),f=n("ab5b"),g=n.n(f);n("76c0"),n("f5b6");function E(e){return g.a.createElement("div",{className:"mobile-list"},g.a.createElement("div",{className:"mobile-list-title"},g.a.createElement("img",{className:"mobile-list-img",src:n("cca0")("./".concat(e.icon?"ic_carTime.png":e.icon))}),e.title),g.a.createElement("div",{className:"mobile-list-content"},"ic_platenumber.png"===e.icon?g.a.createElement("span",{className:"mobile-list-span"},e.content):e.content))}n("b651");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=e.data;return g.a.createElement("div",{className:"timeline-container",style:h({},e.style)},g.a.createElement("div",{className:"timeline-line"}),g.a.createElement("div",{className:"timeline-content"},t.map((function(e,t){return g.a.createElement("div",{key:"".concat(e+t),className:"timeline-item"},g.a.createElement("div",{className:"div-circle"},g.a.createElement("div",{className:"div-circle1"})),g.a.createElement("div",{className:"content-container"},g.a.createElement("div",{className:"title"},e.title),g.a.createElement("div",{className:"content"},e.content)),g.a.createElement("div",{className:"time-container"},e.time))}))))}var O=n("4d26"),N=n.n(O);n("0837");function P(e){var t=e.className,n=e.children,a=e.style,i=e.onClick;return g.a.createElement("div",{className:N()("mvsp-button",t),style:a,onClick:i},n)}n("846d");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){var t=e.className,n=e.style,a=e.title,i=e.children;return g.a.createElement("div",{className:N()("mobile-panel",t),style:S({},n)},g.a.createElement("div",{className:"mobile-panel-title"},g.a.createElement("div",{className:"mobile-panel-soild"}),a),g.a.createElement("div",{className:"mobile-panel-content"},i))}var U=n("9413");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var C=function(e){A()(a,e);var t,n=(t=a,function(){var e,n=v()(t);if(I()){var a=v()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return p()(this,e)});function a(e){var t;return l()(this,a),(t=n.call(this,e)).handleValidatePwd=function(){t.state.passWord===t.state.nowPassword?t.setState({}):alert(i18next.t("动态密码不正确"))},t.handleOnChange=function(e){t.setState({nowPassword:e.target.value})},t.onTouchStart=function(){document.getElementById("mobileSureButton").style.backgroundColor="#AACD06"},t.onTouchEnd=function(){document.getElementById("mobileSureButton").style.backgroundColor=""},t.SU="KMH"===window.ToccInfo.SU?"KM/H":window.ToccInfo.SU,t.state={alarmType:"",runTime:"",carLicense:"",driverName:"",driveTime:"",speed:"",location:"",alarmData:[],isHandle:!1,videoArr:[],passWord:"",nowPassword:"",nowVideo:{}},t}return m()(a,[{key:"componentWillMount",value:function(){var e=this,t=U.a.getQueryString("passWord");this.setState({passWord:t}),this.setState({},(function(){axios({url:"/api/mobile-evidence-center/alarminfo",params:{eid:U.a.getQueryString("eid"),token:U.a.getQueryString("token"),guid:(new Date).getTime()},method:"get",custom:!0}).then((function(t){var n=[];t.recentlyAlarm.forEach((function(t){"MPH"===e.SU&&(t.speed=(.6214*parseFloat(t.speed)).toFixed(2)),alarmtypeLang[t.alarmType]&&n.push({title:alarmtypeLang[t.alarmType],content:t.speed+e.SU,time:t.time})}));var a=[],i=[];Object.keys(t.videoArray).forEach((function(e){t.videoArray[e].forEach((function(e){i.push({id:parseInt(e.channel)+parseInt(e.mediatype),src:{mediaPath:"".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.wcms5Port,"/download/absolute/view?dir=").concat(encodeURIComponent(e.mediaPath))}})}))})),i.forEach((function(e){if(a.length>0){for(var t=!0,n=0;n<a.length;n++)if(a[n]&&a[n].id===e.id){a[n].src.push(e.src),t=!1;break}t&&a.push({id:e.id,src:[e.src]})}else a.push({id:e.id,src:[e.src]})})),e.setState({alarmType:t.ename,runTime:t.runTime,carLicense:t.carLicense,driverName:t.driverName,driveTime:t.driveTime,speed:"MPH"===e.SU?(.6214*parseFloat(t.speed)).toFixed(2):t.speed,location:t.location,alarmData:n,isHandle:t.handleTime,videoArr:a,nowVideo:a[0],nowPlayIndex:0})})).catch((function(t){e.setState({alarmType:"--",runTime:"--",carLicense:"--",driverName:"--",driveTime:"--",speed:"--",location:"--",alarmData:[],isHandle:"--",videoArr:[],nowVideo:{},nowPlayIndex:0}),console.error(t)}))}))}},{key:"componentDidMount",value:function(){window.onresize=function(){var e=document.body.clientHeight,t=document.getElementById("view"),n=document.getElementById("center"),a=document.getElementById("logo"),i=document.getElementById("mobile_div_password"),c=document.getElementById("mobileSureButton");e<=500?(a.style.display="none",t.style.top="35%",n.style.top="45%",i.style.top="55%",c.style.top="calc(55% + 70px)"):(t.style.top="20%",n.style.top="28%",i.style.top="35%",c.style.top="calc(35% + 70px)",a.style.display="block")}}},{key:"openVideo",value:function(e,t){var n={};document.getElementsByClassName("active").length>0&&(document.getElementsByClassName("active")[0].className="mvsp-button btn"),e.target.className="mvsp-button btn active",this.state.videoArr.forEach((function(e){e.id===t&&(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))})),this.setState({nowVideo:n,nowPlayIndex:0});var a=window.setInterval((function(){document.getElementById(t)&&(window.clearInterval(a),document.getElementById(t).play())}),10)}},{key:"handlePlayNext",value:function(e,t){var n=this,a=this.state.nowVideo,i=document.getElementById(e);0===t&&a.src[1]&&a.src[1].mediaPath.length>0?(i.src=a.src[1].mediaPath,i.onloadedmetadata=function(){i.play(),n.setState({nowPlayIndex:1})}):1===t&&(i.onloadedmetadata=function(){},i.src=a.src[0].mediaPath,this.setState({nowPlayIndex:0}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.alarmType,a=t.runTime,c=t.carLicense,r=t.driverName,o=t.driveTime,l=t.speed,s=t.location,m=t.alarmData,d=t.isHandle,A=t.videoArr,u=t.nowVideo,p=t.nowPlayIndex;return console.log("alarmType",n),g.a.createElement("div",{style:{height:"100%",width:"100%"}},g.a.createElement("meta",{name:"viewport",content:"width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"}),g.a.createElement("div",{className:"mobile-page-container"},g.a.createElement("div",{className:"alarm-info"},g.a.createElement("div",{className:"alarm-state"},g.a.createElement("div",{className:"alarm-title"},d?i18next.t("已处理"):i18next.t("未处理"))),g.a.createElement("div",{className:"alarm-name"},n||i18next.t("未知报警"))),g.a.createElement(E,{title:i18next.t("车辆行驶时间"),content:a,icon:"ic_carTime.png"}),g.a.createElement(B,{title:i18next.t("证据视频")}),g.a.createElement("div",{className:"video-head"},g.a.createElement("video",{style:{objectFit:"fill"},onEnded:function(){e.handlePlayNext(u.id,p)},"x5-video-player-type":"h5","x5-video-player-fullscreen":"true","x-webkit-airplay":"true",playsInline:"ture","webkit-playsinline":"true",id:u?u.id:"",preload:"auto",width:"100%",height:"212",src:u&&u.src&&u.src.length>0?u.src[p].mediaPath:""})),g.a.createElement("div",{className:"video-btn-group"},g.a.createElement("span",{className:"video-btn-tips"},i18next.t("选择视频"),":"),A.map((function(t,n){return g.a.createElement(P,{key:n,className:"btn",onClick:function(n){e.openVideo(n,t.id)}},i18next.t("视频")+(n+1))}))),g.a.createElement(B,{title:i18next.t("车辆信息")},g.a.createElement(E,{title:i18next.t("车牌号码"),content:c,icon:"ic_platenumber.png"}),g.a.createElement(E,{title:i18next.t("司机姓名"),content:r,icon:"ic_driver.png"}),g.a.createElement(E,{title:i18next.t("驾驶时长"),content:o,icon:"ic_driverTime.png"}),g.a.createElement(E,{title:i18next.t("车辆速度"),content:l+this.SU,icon:"ic_speed.png"}),g.a.createElement(E,{title:i18next.t("报警位置"),content:s,icon:"ic_warningposition copy.png"})),g.a.createElement(B,{title:i18next.t("半小时内报警信息")},g.a.createElement(w,{data:i()(m)}))))}}]),a}(g.a.Component);t.default=C},"9eef":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAANCAYAAAB2HjRBAAAAAXNSR0IArs4c6QAAAZhJREFUKBWNUjtI7FAQPZPNrq6I2Nj4AxtFrK0Us9hY2goW1j6sLMXCT2ejyCteayEIgqWCVZJd0Ebwg4Us4musbFU0Jnc8N3pVBD8Dydw7c86ZTyJ+rGOZwV8Awud7ExRFsGZGZDUHSqhXDTXt+571km0712aJ9LJ8qJ024rFe6XFYLn5DvhmQW+KO0yd0WLzvSH6kowo0vt2B+mMgdXd3nrOdFoCbJwZy8oKqt1TFGPSdnAqamK/b3HKEcRV0E7yfBLL48KoknOFaA8nbcOofPXeyzSVdiOLEAH88YCWryJ7FvFeOMcf5yzZI4FEWyE4p0v4UMCaQeRtvjjW8U2zx+IEsYgqxnrm2PcH/jAjOdsvZGizRWuajhAT3LzcW+altL9J/BCu7OlGDKQrOphU5sAIc4WsrR9rFL9BDRAsM2imQGMGQKtdnzVbOD59eFVWfuVox1EGXsiQv1HUv1pk8lv9hVe11AOe5gwm2vOzuzueioZ5ZIb9QwHSSYZdV8lb4OuR2Jwn2/SI2E8d69aFIStGN1hpanwHo5qPqS4cynQAAAABJRU5ErkJggg=="},b651:function(e,t,n){},c995:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAAAXNSR0IArs4c6QAAAcpJREFUKBV1U0FLG0EY/WZ3kxiNmooarCIiIi05tCdRW6j0Inix1LYHD4Leeyje/A8eFHry2muvQi9ls1mXHFqk0ChSbSDGkxfBllo0Pt8X3TUhOjD7fe+97818M8MaqRsxD2NVyDIgz0ifi5FLxp94YWbrym7TgQBJK4ePJodvjofp9DbSoZry0KO55WKlrYBMyNciyQ0a194CdoNQB2wPb4yL7WwR8Rpt5/CaOwVTgBPWjfxCIp7D48wPtIWcRm6wbnn4UONocrladAbmr8gdcG5y/mbh+9DcEaCLu+5fG12ctHroU9BVQAeFSjJAv+KeIlLEu3EfWcU6uNiedmIxP3Mc+a/kaVWGGUr/Js2R4uOs+WOMBNWqREaBnF86Yiwj8vXvhcxp4WhadvgEGb1ZxbE8nvBpXiZs8RUn8hhlONUFayK3L3fm8UDFeIBHxF/YYokxcHw8V14H8We9zGvELy9glc/xKSLuSGhYoHGzQRoqoYXkd4pLDcINSAQYob7X6uNhk570Mcj2DsPzhQWpLfTSVKxvOdSiGNvCUzXHfIwr2e2jnaYCO3kXFd2XOC4maK6weIYm385j8b7aJl7/EprKNM83iTfEFYxt3mWqQu/xAAAAAElFTkSuQmCC"},caf6:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAYNJREFUKBV9UjtLA0EQntm9mDtBwUJsVIillahYBQvtY2mljYWtiBiwtTBBEbEQ7SzFRpAUNjY2Nj5+gGBhYkBE8Jm7YHKfs5dcOGPMwu7Mfo/dZXaYIiP7jC543goRZph4CCAw4x7Ep2zbW+le/gjlKkyyBXeaXO+SQTEiPUfEa8pM6LkAE26z4E6FejZJYAIO5eRSB9kjywPshgITd1/QXfrybplJE9NCut85ZwO6Je/KUnpWW7HiUh8/RU1hvveKns/SdwLV6pHTaY9zpuCus086PeishaJ2MZN3N+TWimIgBY1cO3GUUwo545HicEL5aixKmvygiM5jQDfj5KvRwCOlL0OWZsEblZMP+W8R/R41Lcrmxjsp+8VvWk6qYLLKlUb5Q76mNR7Cic+YD4lInAT4j1F6Qv4YJ4psZ5+Az4iBtvNwZD8h1UvW8wYN4N14ggZooPUk++ilyMeibLW03s7qgH3WrLGagWCP+A3gDZv/cqz4dUvNf6A8Scls+SLj+QEUvJ6fO/DIKgAAAABJRU5ErkJggg=="},cca0:function(e,t,n){var a={"./ic_carTime.png":"cd3c9","./ic_driver.png":"9eef","./ic_driverTime.png":"60dc","./ic_platenumber.png":"f5a4","./ic_speed.png":"caf6","./ic_warningposition copy.png":"c995"};function i(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=c,e.exports=i,i.id="cca0"},cd3c9:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAANCAYAAACZ3F9/AAAAAXNSR0IArs4c6QAAAa1JREFUKBVtUk1LW1EQPXOfSf1ALQY/iF0ItZTadqF0IUFscC8uXQvuBFeluhBxrZvSHxA39g90VXBhXmxtWtKCUBei4EbBNsSI1MZozHHuay68BGczb86c87gzcwShiGY4VKlikYIkiB5tFSH46gHvKq8lE6LC2GKFNMbn4g2xqWWuCZh63I/OiGDCCD7eEimT5vt4jq1hMaxI0txqy7LXNSIZjrjv3l22KWdDxesOQ9TnS/F5EhbZpmJn7d8Yc8TBAz7Qn//y0py0mKkQbwVYvRyV3450Xz58ImXPw5uqYCkQ6iLGPYPP95EbsY4IdhR79WiHLboHdD/swn6+kaX13yuk9HnX+qLSs27M7j2XCx3htGAQs8L8+Rmeav4R1nrENA069Rw2Siq67sqyo1hGX6yKQpMQ/m0VY9qsE1aSYk9TFxc3SCiQO05ICdEvfBFs9Tv76lgNRbBVn3tuq0Fbb7Sg4nTjSZy2dscPeseUwwLnLI9jTUf59K+Mn9qcj/gcHjhis7Wgt82ZP0XsqgUL8SjmnPD/6LUq8CqxQNS8KupVqFepXk3KthPZfAdCfK7Hjb8dhAAAAABJRU5ErkJggg=="},f5a4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAANCAYAAACZ3F9/AAAAAXNSR0IArs4c6QAAAVVJREFUKBWNkL1KA0EQx2f29vKhKdIYDxO/sbWxshAbS7HzASzEBwjRNBZ25qy0sbIR38BGMJBHELSxsAmn8YIIsbmv3N64G7KQgJgb2P3v7Px/O7uLMAy742+RIFvnfylj7LRWzjVVDdV07viHSGCp9aRABu3jSv6WK6MBxjNh8jEJUnXZtasUZbcWAuVUkjYI0OPyrngyP7WZFlK+huPdD66qoQuXShzDQrGU7Xy70UrVyrzanXCtiFnnaA497VPKRhOK/e0wpMeuG63G/aRmvwd38qfrPRE05aHTo94xcFBAiCAWZ4hgAkGlvpA/kM95wCjY+BdEwGsJLMkRE1JBdt0lgh1C1rv6pBkNj73RQP4mmHBJGC2AZN1k/DIWYp8YNpAlP37cX5bgl4LHwGo586RPlPoyXI/utXVdgZbtBA29kUYToEXOEfcEo9k0gPaYCd78AobkfHYfeYeRAAAAAElFTkSuQmCC"},f5b6:function(e,t,n){}}]);